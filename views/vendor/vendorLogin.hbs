<section id="loginform">
    <h1>Login Form</h1>

    <div class="login--form">
      <div class="form-group">
        <label>Username</label>
        <input placeholder="name@example.com" type="username" class="form-control" name='username' id='username' value="myvendor">
      </div>
      <div class="form-group">
        <label>Password</label>
        <input type="password" class="form-control" placeholder="***************" name='password' id='password' value="Test1234!">
      </div>

      <button type="submit" class="btn btn-primary center-block " id="submit">Login</button>
      <a href="/vendor/signup" >Sign up</a>
    </div>
</section>

<script>
  $(function() {
    /**
    login
    */
    var $username = $('#username')
    var $password = $('#password')
    var $submit = $('#submit')

    $submit.click(function(e) {
      e.preventDefault()
      if (!$username.val()) {
        gbmsg.failure('Please enter Username')
        return
      }

      if (!$password.val()) {
        gbmsg.failure('Please enter Password')
        return
      }

      gbmsg.loading();

      $.ajax({
        type: 'POST',
        url: '/vendor/login',
        data: {
          username: $username.val(),
          password: $password.val() 
        }
      }).done(function( res ) {
         console.log('res', res)
         window.location.href = '/vendor'
      }).fail(function(jqXHR) {
        console.log('jqXHR', jqXHR)
        var res = jqXHR.responseJSON || {}
        var errs = res.errors || []
        alertify.alert('Title', errs[0] || 'Username or password failedÔºÅ');
      }).always(function() { 
        gbmsg.hide()
       });
    })

  })
</script>